ä»¥ä¸‹æ˜¯å›¢é˜Ÿä¸Šä¸€è½®çš„è¾“å‡ºæˆæœï¼Œè¯·åœ¨ä¿ç•™ä¼˜ç‚¹çš„åŸºç¡€ä¸Šï¼Œæ ¹æ®æ”¹è¿›åé¦ˆé‡æ–°è¾“å‡ºå…¨éƒ¨æ–‡ä»¶ã€‚
æ¯ä¸ªæ–‡ä»¶ç”¨ === FILE: æ–‡ä»¶å === ä½œä¸ºåˆ†éš”ç¬¦å¼€å¤´ï¼Œä¸è¦çœç•¥ä»»ä½•æ–‡ä»¶ã€‚



æ”¹è¿›åé¦ˆï¼š
README ç¼ºå°‘ stdin ç®¡é“ç”¨æ³•è¯´æ˜ï¼ˆsnaplog åº”æ”¯æŒä» stdin è¯»å–æ—¥å¿—ï¼‰ï¼›CONTRIBUTING æµ‹è¯•éƒ¨åˆ†å¤ªç®€ç•¥ï¼Œéœ€è¦è¡¥å…… conftest.py fixtures ä½¿ç”¨ç¤ºä¾‹ï¼›ARCHITECTURE.md çš„æ‰©å±•ç‚¹ç« èŠ‚å¯ä»¥åŠ ä¸€ä¸ªå®Œæ•´çš„è‡ªå®šä¹‰ Parser ç¤ºä¾‹ä»£ç 

ä¸Šä¸€è½®äº§å‡ºï¼š

=== FILE: ARCHITECTURE.md ===
# ğŸ—ï¸ snaplog æ¶æ„æ–‡æ¡£

æœ¬æ–‡æ¡£æè¿° snaplog çš„å†…éƒ¨æ¶æ„ï¼Œå¸®åŠ©è´¡çŒ®è€…å¿«é€Ÿç†è§£ä»£ç ç»„ç»‡å’Œæ•°æ®æµã€‚

---

## ç›®å½•ç»“æ„

```
snaplog/
â”œâ”€â”€ __init__.py          # ç‰ˆæœ¬å·ã€åŒ…å…ƒæ•°æ®
â”œâ”€â”€ cli.py               # Click å‘½ä»¤å®šä¹‰ï¼ˆå…¥å£ï¼‰
â”œâ”€â”€ parser.py            # æ—¥å¿—è¡Œè§£æå¼•æ“
â”œâ”€â”€ filters.py           # è¿‡æ»¤å™¨ï¼ˆçº§åˆ«ã€æ—¶é—´ã€æ­£åˆ™ï¼‰
â”œâ”€â”€ stats.py             # ç»Ÿè®¡èšåˆé€»è¾‘
â”œâ”€â”€ exporters.py         # JSON / CSV å¯¼å‡ºå™¨
â”œâ”€â”€ formatters.py        # Rich ç»ˆç«¯è¾“å‡ºæ ¼å¼åŒ–
â”œâ”€â”€ models.py            # æ•°æ®æ¨¡å‹ï¼ˆLogEntry dataclassï¼‰
â””â”€â”€ utils.py             # æ—¶é—´è§£æã€æ–‡ä»¶æ¢æµ‹ç­‰å·¥å…·å‡½æ•°
tests/
â”œâ”€â”€ conftest.py          # pytest fixtures
â”œâ”€â”€ test_parser.py
â”œâ”€â”€ test_filters.py
â”œâ”€â”€ test_stats.py
â”œâ”€â”€ test_exporters.py
â””â”€â”€ test_cli.py
pyproject.toml           # æ„å»ºé…ç½®ï¼ˆPEP 621ï¼‰
```

---

## æ ¸å¿ƒæ•°æ®æ¨¡å‹

```python
@dataclass(frozen=True, slots=True)
class LogEntry:
    timestamp: datetime | None
    level: str            # DEBUG / INFO / WARNING / ERROR / CRITICAL
    message: str
    raw: str              # åŸå§‹è¡Œæ–‡æœ¬
    line_number: int
```

æ‰€æœ‰æ¨¡å—å›´ç»• `LogEntry` è¿›è¡Œæµè½¬ï¼Œä¿æŒå•ä¸€æ•°æ®å¥‘çº¦ã€‚

---

## æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–‡ä»¶/   â”‚â”€â”€â”€â”€â–¶â”‚  Parser  â”‚â”€â”€â”€â”€â–¶â”‚ Filters  â”‚â”€â”€â”€â”€â–¶â”‚ Formatter  â”‚
â”‚  stdin   â”‚     â”‚          â”‚     â”‚          â”‚     â”‚ / Exporter  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚                                   â”‚
                      â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Stats   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1. **è¾“å…¥å±‚** â€” `cli.py` æ¥æ”¶æ–‡ä»¶è·¯å¾„æˆ– stdinï¼Œé€è¡Œè¯»å–ã€‚
2. **è§£æå±‚** â€” `parser.py` å°†åŸå§‹æ–‡æœ¬è¡Œè½¬ä¸º `LogEntry`ã€‚æ”¯æŒå¤šç§æ ¼å¼è‡ªåŠ¨æ¢æµ‹ï¼Œä¹Ÿå¯é€šè¿‡ `--pattern` æŒ‡å®šã€‚
3. **è¿‡æ»¤å±‚** â€” `filters.py` æä¾›å¯ç»„åˆçš„è¿‡æ»¤å™¨é“¾ï¼ˆçº§åˆ«ã€æ—¶é—´èŒƒå›´ï¼‰ã€‚è¿‡æ»¤å™¨å®ç°ä¸ºç”Ÿæˆå™¨ï¼Œæ”¯æŒæƒ°æ€§æ±‚å€¼ï¼Œå†…å­˜å ç”¨æ’å®šã€‚
4. **èšåˆå±‚** â€” `stats.py` å¯¹è¿‡æ»¤åçš„æ¡ç›®åšå•éæ‰«æç»Ÿè®¡ï¼ˆè®¡æ•°ã€Top-N ç­‰ï¼‰ã€‚
5. **è¾“å‡ºå±‚** â€” `formatters.py`ï¼ˆRich è¡¨æ ¼è¾“å‡ºåˆ°ç»ˆç«¯ï¼‰æˆ– `exporters.py`ï¼ˆJSON/CSV å†™å…¥æ–‡ä»¶ï¼‰ã€‚

---

## è®¾è®¡åŸåˆ™

| åŸåˆ™ | å®è·µ |
|------|------|
| æµå¼å¤„ç† | å…¨é“¾è·¯ä½¿ç”¨ Python ç”Ÿæˆå™¨ï¼Œå¤„ç† GB çº§æ—¥å¿—ä¸çˆ†å†…å­˜ |
| é›¶å¤–éƒ¨ä¾èµ– | è¿è¡Œæ—¶ä»…ä¾èµ– Click + Richï¼Œå‡ä¸ºçº¯ Python åŒ… |
| å¯ç»„åˆ | æ¯ä¸ªè¿‡æ»¤å™¨/å¯¼å‡ºå™¨ç‹¬ç«‹ï¼Œå¯è‡ªç”±ç»„åˆ |
| å¯æµ‹è¯• | æ ¸å¿ƒé€»è¾‘ä¸ CLI å±‚è§£è€¦ï¼Œçº¯å‡½æ•°ä¼˜å…ˆ |
| ç±»å‹å®‰å…¨ | å…¨é¢ä½¿ç”¨ Python 3.10+ ç±»å‹æ ‡æ³¨ï¼Œé…åˆ mypy strict æ¨¡å¼ |

---

## CLI å±‚è®¾è®¡

ä½¿ç”¨ Click çš„ `@group` + `@command` æ¨¡å¼ï¼š

```python
@click.group()
@click.option("--no-color", is_flag=True)
@click.pass_context
def cli(ctx, no_color): ...

@cli.command()
@click.option("--level", multiple=True)
@click.argument("logfile", type=click.Path(exists=True))
def filter(level, logfile): ...

@cli.command()
@click.option("--from", "--to", ...)
def slice(...): ...

@cli.command()
def stats(...): ...

@cli.command()
@click.option("--format", type=click.Choice(["json", "csv"]))
@click.option("--output", type=click.Path())
def export(...): ...
```

---

## è§£æå™¨æ¶æ„

`parser.py` é‡‡ç”¨ç­–ç•¥æ¨¡å¼ï¼š

```python
class ParserStrategy(Protocol):
    def parse(self, line: str, line_number: int) -> LogEntry | None: ...

class StandardParser:    ...   # "2026-02-24 10:03:12 ERROR msg"
class SyslogParser:      ...   # "Feb 24 10:03:12 host app[pid]: ERROR msg"
class CustomParser:      ...   # ç”¨æˆ·è‡ªå®šä¹‰ pattern

def auto_detect(sample_lines: list[str]) -> ParserStrategy:
    """å–å‰ 10 è¡Œï¼Œé€ä¸€å°è¯•å„ç­–ç•¥ï¼Œè¿”å›åŒ¹é…ç‡æœ€é«˜çš„ã€‚"""
```

---

## æ‰©å±•ç‚¹

- æ–°å¢æ—¥å¿—æ ¼å¼ï¼šå®ç° `ParserStrategy` åè®®å³å¯ã€‚
- æ–°å¢å¯¼å‡ºæ ¼å¼ï¼šåœ¨ `exporters.py` ä¸­æ·»åŠ å¯¼å‡ºå‡½æ•°ï¼Œæ³¨å†Œåˆ° `--format` çš„ `Choice` åˆ—è¡¨ã€‚
- æ–°å¢è¿‡æ»¤å™¨ï¼šåœ¨ `filters.py` ä¸­ç¼–å†™ç”Ÿæˆå™¨å‡½æ•°ï¼Œæ’å…¥è¿‡æ»¤é“¾ã€‚


=== FILE: CONTRIBUTING.md ===
# ğŸ¤ è´¡çŒ®æŒ‡å—

æ„Ÿè°¢ä½ å¯¹ snaplog çš„å…³æ³¨ï¼æ— è®ºæ˜¯ä¿®å¤ typo è¿˜æ˜¯æ·»åŠ æ–°åŠŸèƒ½ï¼Œæˆ‘ä»¬éƒ½éå¸¸æ¬¢è¿ã€‚

---

## å¿«é€Ÿå¼€å§‹

```bash
# 1. Fork å¹¶å…‹éš†
git clone https://github.com/<your-username>/snaplog.git
cd snaplog

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3.10 -m venv .venv
source .venv/bin/activate

# 3. å®‰è£…å¼€å‘ä¾èµ–
pip install -e ".[dev]"

# 4. ç¡®è®¤æµ‹è¯•é€šè¿‡
pytest
```

---

## å¼€å‘å·¥ä½œæµ

1. ä» `main` åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feat/your-feature`
2. ç¼–å†™ä»£ç  + æµ‹è¯•
3. æœ¬åœ°æ£€æŸ¥ï¼š
   ```bash
   pytest                # å•å…ƒæµ‹è¯•
   mypy snaplog          # ç±»å‹æ£€æŸ¥
   ruff check snaplog    # ä»£ç é£æ ¼
   ruff format snaplog   # è‡ªåŠ¨æ ¼å¼åŒ–
   ```
4. æäº¤ï¼ˆéµå¾ª Conventional Commitsï¼‰ï¼š
   ```
   feat: add regex filter support
   fix: handle empty timestamp gracefully
   docs: update CLI usage examples
   ```
5. æ¨é€å¹¶åˆ›å»º Pull Request

---

## PR è§„èŒƒ

- æ ‡é¢˜ä½¿ç”¨ Conventional Commits æ ¼å¼
- æè¿°ä¸­è¯´æ˜ã€Œåšäº†ä»€ä¹ˆã€å’Œã€Œä¸ºä»€ä¹ˆã€
- å…³è”ç›¸å…³ Issueï¼ˆ`Closes #123`ï¼‰
- ç¡®ä¿ CI å…¨ç»¿ï¼ˆæµ‹è¯• + ç±»å‹æ£€æŸ¥ + lintï¼‰
- æ–°åŠŸèƒ½éœ€é™„å¸¦æµ‹è¯•ï¼Œè¦†ç›–ç‡ä¸ä½äºç°æœ‰æ°´å¹³

---

## ä»£ç é£æ ¼

- æ ¼å¼åŒ–ï¼š[Ruff](https://docs.astral.sh/ruff/)ï¼ˆè¡Œå®½ 88ï¼‰
- ç±»å‹æ ‡æ³¨ï¼šæ‰€æœ‰å…¬å¼€å‡½æ•°å¿…é¡»æœ‰å®Œæ•´ç±»å‹ç­¾å
- æ–‡æ¡£å­—ç¬¦ä¸²ï¼šGoogle é£æ ¼
- å‘½åï¼š`snake_case`ï¼ˆå‡½æ•°/å˜é‡ï¼‰ï¼Œ`PascalCase`ï¼ˆç±»ï¼‰

---

## æµ‹è¯•

```bash
# è¿è¡Œå…¨éƒ¨æµ‹è¯•
pytest

# å¸¦è¦†ç›–ç‡
pytest --cov=snaplog --cov-report=term-missing

# åªè·‘æŸä¸ªæ¨¡å—
pytest tests/test_parser.py -v
```

æµ‹è¯•æ–‡ä»¶æ”¾åœ¨ `tests/` ç›®å½•ï¼Œå‘½å `test_<module>.py`ã€‚ä½¿ç”¨ `conftest.py` ä¸­çš„ fixtures è·å–ç¤ºä¾‹æ—¥å¿—æ•°æ®ã€‚

---

## Issue ä¸è®¨è®º

- Bug æŠ¥å‘Šï¼šä½¿ç”¨ [Bug Report æ¨¡æ¿](.github/ISSUE_TEMPLATE/bug_report.yml)
- åŠŸèƒ½å»ºè®®ï¼šä½¿ç”¨ [Feature Request æ¨¡æ¿](.github/ISSUE_TEMPLATE/feature_request.yml)
- ä¸€èˆ¬è®¨è®ºï¼šåœ¨ GitHub Discussions ä¸­å‘å¸–

---

## è¡Œä¸ºå‡†åˆ™

æœ¬é¡¹ç›®éµå¾ª [Contributor Covenant 2.1](https://www.contributor-covenant.org/version/2/1/code_of_conduct/)ã€‚å‚ä¸å³è¡¨ç¤ºä½ åŒæ„éµå®ˆè¯¥å‡†åˆ™ã€‚

---

## è®¸å¯

ä½ æäº¤çš„æ‰€æœ‰è´¡çŒ®å°†æŒ‰ MIT è®¸å¯è¯æˆæƒã€‚


=== FILE: LAUNCH_PLAN.md ===
# ğŸš€ snaplog å¼€æºå‘å¸ƒè®¡åˆ’

## å‘å¸ƒç›®æ ‡

å°† snaplog ä½œä¸ºé«˜è´¨é‡ Python CLI å·¥å…·å¼€æºå‘å¸ƒï¼Œå»ºç«‹åˆå§‹ç¤¾åŒºï¼Œåœ¨å‘å¸ƒå 30 å¤©å†…è¾¾åˆ° 500 GitHub starsã€‚

---

## é˜¶æ®µä¸€ï¼šå‘å¸ƒå‡†å¤‡ï¼ˆD-7 â†’ D-Dayï¼‰

| äº‹é¡¹ | è´Ÿè´£ | çŠ¶æ€ |
|------|------|------|
| ä»£ç å®¡æŸ¥ & æ¸…ç†ï¼ˆç§»é™¤å†…éƒ¨å¼•ç”¨ã€ç¡¬ç¼–ç è·¯å¾„ï¼‰ | Tech | â¬œ |
| æµ‹è¯•è¦†ç›–ç‡ â‰¥ 90% | Tech | â¬œ |
| mypy strict + ruff é›¶è­¦å‘Š | Tech | â¬œ |
| pyproject.toml å…ƒæ•°æ®å®Œå–„ | Tech | â¬œ |
| README / ARCHITECTURE / CONTRIBUTING å®šç¨¿ | PM | â¬œ |
| LICENSE (MIT) æ–‡ä»¶ | PM | â¬œ |
| GitHub repo è®¾ç½®ï¼ˆTopicsã€Aboutã€Social Previewï¼‰ | PM | â¬œ |
| Issue æ¨¡æ¿ & PR æ¨¡æ¿ | PM | â¬œ |
| GitHub Actions CIï¼ˆæµ‹è¯• + lint + å‘å¸ƒï¼‰ | Tech | â¬œ |
| PyPI è´¦å· & trusted publisher é…ç½® | Tech | â¬œ |

---

## é˜¶æ®µäºŒï¼šå‘å¸ƒæ—¥ï¼ˆD-Dayï¼‰

### æŠ€æœ¯å‘å¸ƒ

1. æ‰“ tag `v0.1.0`ï¼Œè§¦å‘ CI è‡ªåŠ¨å‘å¸ƒåˆ° PyPI
2. ç¡®è®¤ `pip install snaplog` å¯ç”¨
3. åˆ›å»º GitHub Releaseï¼Œé™„ changelog

### ç¤¾åŒºä¼ æ’­

| æ¸ é“ | å†…å®¹ç­–ç•¥ | æ—¶é—´ |
|------|----------|------|
| Hacker News | "Show HN: snaplog â€“ a fast CLI log analyzer in Python" | D-Day ä¸Šåˆ |
| Reddit r/Python | åŠŸèƒ½æ¼”ç¤º + GIF åŠ¨å›¾ | D-Day ä¸Šåˆ |
| Reddit r/commandline | ä¾§é‡ CLI ä½“éªŒå’Œç®¡é“ç»„åˆ | D-Day ä¸‹åˆ |
| Twitter/X | 30 ç§’æ¼”ç¤ºè§†é¢‘ + åŠŸèƒ½äº®ç‚¹çº¿ç¨‹ | D-Day |
| V2EX / æ˜é‡‘ | ä¸­æ–‡æŠ€æœ¯åšæ–‡ã€Œç”¨ä¸€æ¡å‘½ä»¤åˆ†ææ—¥å¿—ã€ | D-Day |
| Dev.to | è‹±æ–‡æ•™ç¨‹ "Analyze logs like a pro with snaplog" | D+1 |

### ä¼ æ’­ç´ ææ¸…å•

- [ ] ç»ˆç«¯å½•å± GIFï¼ˆ[asciinema](https://asciinema.org/) æˆ– [VHS](https://github.com/charmbracelet/vhs)ï¼‰
- [ ] 30 ç§’æ¼”ç¤ºè§†é¢‘ï¼ˆMP4ï¼‰
- [ ] ç¤¾äº¤åª’ä½“é…å›¾ï¼ˆ1200Ã—630ï¼‰
- [ ] ä¸­æ–‡åšæ–‡è‰ç¨¿
- [ ] è‹±æ–‡åšæ–‡è‰ç¨¿

---

## é˜¶æ®µä¸‰ï¼šå‘å¸ƒåè¿è¥ï¼ˆD+1 â†’ D+30ï¼‰

### ç¬¬ä¸€å‘¨

- æ¯æ—¥æ£€æŸ¥ Issuesï¼Œ24 å°æ—¶å†…é¦–æ¬¡å›å¤
- æ”¶é›†ç”¨æˆ·åé¦ˆï¼Œæ ‡è®° `good first issue` å¸å¼•è´¡çŒ®è€…
- æ ¹æ®åé¦ˆå‘å¸ƒ `v0.1.1` çƒ­ä¿®å¤ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰

### ç¬¬äºŒå‘¨

- å‘å¸ƒã€Œä¸€å‘¨å›é¡¾ã€åšæ–‡ï¼ˆæ•°æ®ï¼šstarsã€downloadsã€issuesã€PRsï¼‰
- åœ¨ Awesome Python / Awesome CLI æäº¤æ”¶å½• PR
- è”ç³» 2-3 ä½ Python é¢†åŸŸ KOL è¯•ç”¨

### ç¬¬ä¸‰ & å››å‘¨

- æ ¹æ®é«˜ç¥¨ Feature Request è§„åˆ’ `v0.2.0`
- å»ºç«‹ GitHub Discussions æˆ– Discord ç¤¾åŒºé¢‘é“
- å‘å¸ƒ `v0.2.0`ï¼ˆé¢„è®¡æ–°å¢ï¼šæ­£åˆ™è¿‡æ»¤ã€å¤šæ–‡ä»¶åˆå¹¶ï¼‰

---

## å…³é”®æŒ‡æ ‡ï¼ˆD+30ï¼‰

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| GitHub Stars | 500+ |
| PyPI å‘¨ä¸‹è½½é‡ | 1,000+ |
| å·²å…³é—­ Issues | â‰¥ 70% |
| å¤–éƒ¨è´¡çŒ®è€… PR | â‰¥ 5 |
| æµ‹è¯•è¦†ç›–ç‡ | â‰¥ 90% |

---

## é£é™©ä¸åº”å¯¹

| é£é™© | åº”å¯¹ |
|------|------|
| å‘å¸ƒæ—¥æ— äººå…³æ³¨ | å‡†å¤‡ B è®¡åˆ’ï¼šæ¬¡æ—¥åœ¨ä¸åŒæ—¶åŒºé‡æ–°å‘å¸ƒåˆ° HN |
| å¤§é‡ Issue æ¶Œå…¥ | é¢„è®¾ label ä½“ç³» + è‡ªåŠ¨åˆ†ç±» bot |
| PyPI å‘å¸ƒå¤±è´¥ | æå‰åœ¨ TestPyPI éªŒè¯å®Œæ•´æµç¨‹ |
| è´Ÿé¢åé¦ˆï¼ˆåŠŸèƒ½ä¸è¶³ï¼‰ | è·¯çº¿å›¾é€æ˜åŒ–ï¼Œå¼•å¯¼ç”¨æˆ·å‚ä¸å…±å»º |

---

*æœ€åæ›´æ–°ï¼š2026-02-24*


=== FILE: README.md ===
<p align="center">
  <img src="https://img.shields.io/badge/python-3.10%2B-blue" alt="Python 3.10+">
  <img src="https://img.shields.io/badge/license-MIT-green" alt="MIT License">
  <img src="https://img.shields.io/badge/CLI-Click%20%2B%20Rich-orange" alt="Click + Rich">
</p>

# ğŸ“œ snaplog

**å¿«å¦‚é—ªç”µçš„ CLI æ—¥å¿—åˆ†æå·¥å…·ã€‚** è¿‡æ»¤ã€æˆªå–ã€ç»Ÿè®¡ã€å¯¼å‡ºâ€”â€”ä¸€æ¡å‘½ä»¤æå®šã€‚

```
$ snaplog filter --level ERROR server.log
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Timestamp           â”ƒ Level â”ƒ Message                                â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ 2026-02-24 10:03:12 â”‚ ERROR â”‚ Connection refused: db-primary:5432    â”‚
â”‚ 2026-02-24 10:05:44 â”‚ ERROR â”‚ Timeout waiting for response (30s)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ åŠŸèƒ½ä¸€è§ˆ

| åŠŸèƒ½ | å‘½ä»¤ | è¯´æ˜ |
|------|------|------|
| æŒ‰çº§åˆ«è¿‡æ»¤ | `snaplog filter` | æ”¯æŒ DEBUG / INFO / WARNING / ERROR / CRITICAL |
| æ—¶é—´æˆªå– | `snaplog slice` | æŒ‰èµ·æ­¢æ—¶é—´æˆªå–æ—¥å¿—ç‰‡æ®µ |
| ç»Ÿè®¡æ‘˜è¦ | `snaplog stats` | å„çº§åˆ«è®¡æ•°ã€æ—¶é—´è·¨åº¦ã€é«˜é¢‘æ¶ˆæ¯ Top-N |
| å¯¼å‡º | `snaplog export` | å¯¼å‡ºä¸º JSON æˆ– CSV æ ¼å¼ |

---

## ğŸš€ å®‰è£…

```bash
pip install snaplog
```

æˆ–ä»æºç å®‰è£…ï¼š

```bash
git clone https://github.com/snaplog/snaplog.git
cd snaplog
pip install -e .
```

### ä¾èµ–

ä»…ä¾èµ– Python æ ‡å‡†åº“ + ä¸¤ä¸ªè½»é‡åŒ…ï¼ˆå®‰è£…æ—¶è‡ªåŠ¨æ‹‰å–ï¼‰ï¼š

- [Click](https://click.palletsprojects.com/) â€” CLI æ¡†æ¶
- [Rich](https://rich.readthedocs.io/) â€” ç»ˆç«¯ç¾åŒ–è¾“å‡º

æ— å…¶ä»–å¤–éƒ¨ä¾èµ–ã€‚Python 3.10+ å³å¯è¿è¡Œã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æŒ‰çº§åˆ«è¿‡æ»¤

```bash
# åªçœ‹ ERROR åŠä»¥ä¸Š
snaplog filter --level ERROR app.log

# å¤šçº§åˆ«
snaplog filter --level WARNING --level ERROR app.log
```

### æ—¶é—´æˆªå–

```bash
# æˆªå–æŸä¸ªæ—¶é—´çª—å£
snaplog slice --from "2026-02-24 09:00:00" --to "2026-02-24 12:00:00" app.log
```

### ç»Ÿè®¡æ‘˜è¦

```bash
snaplog stats app.log
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
Log Summary
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total lines   : 14,328
Time span     : 2026-02-23 00:00:01 â†’ 2026-02-24 17:58:59
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DEBUG         :  4,102  (28.6%)
INFO          :  8,541  (59.6%)
WARNING       :  1,203  ( 8.4%)
ERROR         :    412  ( 2.9%)
CRITICAL      :     70  ( 0.5%)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Top-5 Messages:
 1. "Connection reset by peer"          Ã— 87
 2. "Retry attempt exceeded"            Ã— 63
 ...
```

### å¯¼å‡º

```bash
# å¯¼å‡ºä¸º JSON
snaplog export --format json --output result.json app.log

# å¯¼å‡ºä¸º CSV
snaplog export --format csv --output result.csv app.log

# å¯ä¸ filter/slice ç»„åˆ
snaplog filter --level ERROR app.log | snaplog export --format json --output errors.json -
```

### å…¨å±€é€‰é¡¹

```bash
snaplog --help          # æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
snaplog filter --help   # æŸ¥çœ‹å­å‘½ä»¤å¸®åŠ©
snaplog --no-color ...  # ç¦ç”¨å½©è‰²è¾“å‡ºï¼ˆé€‚åˆç®¡é“ï¼‰
```

---

## ğŸ“ æ—¥å¿—æ ¼å¼æ”¯æŒ

snaplog è‡ªåŠ¨è¯†åˆ«ä»¥ä¸‹å¸¸è§æ ¼å¼ï¼š

```
# æ ‡å‡†æ ¼å¼
2026-02-24 10:03:12 ERROR Connection refused
# syslog é£æ ¼
Feb 24 10:03:12 hostname app[1234]: ERROR Connection refused
# è‡ªå®šä¹‰åˆ†éš”ç¬¦ï¼ˆé€šè¿‡ --pattern æŒ‡å®šï¼‰
snaplog filter --pattern "{timestamp}|{level}|{message}" --level ERROR app.log
```

---

## ğŸ—ºï¸ è·¯çº¿å›¾

- [x] æŒ‰çº§åˆ«è¿‡æ»¤
- [x] æ—¶é—´æˆªå–
- [x] ç»Ÿè®¡æ‘˜è¦
- [x] JSON / CSV å¯¼å‡º
- [ ] æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ (`--grep`)
- [ ] å¤šæ–‡ä»¶åˆå¹¶åˆ†æ
- [ ] å®æ—¶å°¾éƒ¨è·Ÿè¸ª (`snaplog tail`)
- [ ] æ’ä»¶ç³»ç»Ÿï¼ˆè‡ªå®šä¹‰è§£æå™¨ï¼‰

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·é˜…è¯» [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£æµç¨‹ã€‚

---

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE) Â© 2026 snaplog contributors


=== FILE: .github/ISSUE_TEMPLATE/bug_report.yml ===
```yaml
name: ğŸ› Bug æŠ¥å‘Š
description: æŠ¥å‘Š snaplog çš„é—®é¢˜æˆ–å¼‚å¸¸è¡Œä¸º
title: "[Bug]: "
labels: ["bug", "triage"]
body:
  - type: markdown
    attributes:
      value: |
        æ„Ÿè°¢ä½ èŠ±æ—¶é—´æŠ¥å‘Šé—®é¢˜ï¼è¯·å°½é‡å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½ã€‚

  - type: input
    id: version
    attributes:
      label: snaplog ç‰ˆæœ¬
      description: "è¿è¡Œ `snaplog --version` è·å–"
      placeholder: "0.1.0"
    validations:
      required: true

  - type: input
    id: python-version
    attributes:
      label: Python ç‰ˆæœ¬
      description: "è¿è¡Œ `python --version` è·å–"
      placeholder: "3.10.12"
    validations:
      required: true

  - type: dropdown
    id: os
    attributes:
      label: æ“ä½œç³»ç»Ÿ
      options:
        - macOS
        - Linux
        - Windows
        - å…¶ä»–
    validations:
      required: true

  - type: textarea
    id: description
    attributes:
      label: é—®é¢˜æè¿°
      description: æ¸…æ™°ç®€æ´åœ°æè¿°é‡åˆ°çš„é—®é¢˜
    validations:
      required: true

  - type: textarea
    id: reproduce
    attributes:
      label: å¤ç°æ­¥éª¤
      description: æä¾›æœ€å°å¤ç°æ­¥éª¤
      value: |
        1. å‡†å¤‡æ—¥å¿—æ–‡ä»¶ï¼ˆå†…å®¹ç¤ºä¾‹ï¼‰ï¼š
           ```
           2026-02-24 10:00:00 ERROR something broke
           ```
        2. è¿è¡Œå‘½ä»¤ï¼š
           ```bash
           snaplog filter --level ERROR test.log
           ```
        3. è§‚å¯Ÿåˆ°çš„è¡Œä¸ºï¼š...
    validations:
      required: true

  - type: textarea
    id: expected
    attributes:
      label: æœŸæœ›è¡Œä¸º
      description: ä½ æœŸæœ›å‘ç”Ÿä»€ä¹ˆï¼Ÿ
    validations:
      required: true

  - type: textarea
    id: logs
    attributes:
      label: é”™è¯¯è¾“å‡º / å †æ ˆä¿¡æ¯
      description: ç²˜è´´å®Œæ•´çš„ç»ˆç«¯è¾“å‡º
      render: shell

  - type: textarea
    id: additional
    attributes:
      label: è¡¥å……ä¿¡æ¯
      description: ä»»ä½•æœ‰åŠ©äºæ’æŸ¥çš„é¢å¤–ä¸Šä¸‹æ–‡ï¼ˆæˆªå›¾ã€æ—¥å¿—æ–‡ä»¶ç‰‡æ®µç­‰ï¼‰
```


=== FILE: .github/ISSUE_TEMPLATE/feature_request.yml ===
```yaml
name: âœ¨ åŠŸèƒ½å»ºè®®
description: æå‡ºæ–°åŠŸèƒ½æˆ–æ”¹è¿›å»ºè®®
title: "[Feature]: "
labels: ["enhancement"]
body:
  - type: markdown
    attributes:
      value: |
        æ„Ÿè°¢ä½ çš„å»ºè®®ï¼å¥½çš„æƒ³æ³•è®© snaplog å˜å¾—æ›´å¥½ã€‚

  - type: textarea
    id: problem
    attributes:
      label: é—®é¢˜æˆ–åŠ¨æœº
      description: ä½ æƒ³è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿæˆ–è€…åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Ÿ
      placeholder: "å½“æˆ‘åˆ†æå¤šä¸ªæ—¥å¿—æ–‡ä»¶æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åˆå¹¶ï¼Œéå¸¸ç¹ç..."
    validations:
      required: true

  - type: textarea
    id: solution
    attributes:
      label: æœŸæœ›çš„è§£å†³æ–¹æ¡ˆ
      description: æè¿°ä½ ç†æƒ³ä¸­çš„åŠŸèƒ½è¡¨ç°
      placeholder: |
        å¸Œæœ›æ”¯æŒå¤šæ–‡ä»¶è¾“å…¥ï¼š
        ```bash
        snaplog stats app1.log app2.log app3.log
        ```
    validations:
      required: true

  - type: textarea
    id: alternatives
    attributes:
      label: æ›¿ä»£æ–¹æ¡ˆ
      description: ä½ è€ƒè™‘è¿‡å“ªäº›æ›¿ä»£æ–¹æ¡ˆï¼Ÿ

  - type: dropdown
    id: scope
    attributes:
      label: å½±å“èŒƒå›´
      options:
        - æ–°å‘½ä»¤
        - ç°æœ‰å‘½ä»¤å¢å¼º
        - è¾“å‡ºæ ¼å¼
        - æ€§èƒ½ä¼˜åŒ–
        - æ–‡æ¡£æ”¹è¿›
        - å…¶ä»–
    validations:
      required: true

  - type: checkboxes
    id: contribution
    attributes:
      label: å‚ä¸æ„æ„¿
      options:
        - label: æˆ‘æ„¿æ„æäº¤ PR æ¥å®ç°è¿™ä¸ªåŠŸèƒ½
```
